<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>Open LiteSpeed Web Server Users' Manual - Virtual Hosts Basic</title>
  <meta name="description" content="Open LiteSpeed Web Server Users' Manual - Virtual Hosts Basic." />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="img/favicon.ico" />
  <link rel="stylesheet" type="text/css" href="css/hdoc.css">
</head>
<body>
<div class="pagewrapper"><div class="sidetree">
<h3>OpenLiteSpeed Web Server <a href="index.html"> Users' Manual</a></h3>
<h5>Version 1.4 Rev. 2 </h5>
<hr/>
<div>
<ul class="toctop">
<li><a href="license.html">License</a></li>
<li><a href="intro.html">Introduction</a></li>
<li><a href="install.html">Installation</a></li>
<li><a href="admin.html">Administration</a>
	<ul class="level2"><li><a href="ServerStat_Help.html">Service Manager</a></li></ul></li>
<li><a href="security.html">Security</a></li>
<li><a href="config.html">Configuration</a>
	<ul class="level2">
	<li><a href="ServGeneral_Help.html">Server General</a></li>
        <li><a href="ServLog_Help.html">Server Log</a></li>
	<li><a href="ServTuning_Help.html">Server Tuning</a></li>
	<li><a href="ServSecurity_Help.html">Server Security</a></li>
	<li><a href="ExtApp_Help.html">External Apps</a></li>
                <ul class="level3">
                <li><a href="External_FCGI.html">Fast CGI App</a></li>
                <li><a href="External_FCGI_Auth.html">Fast CGI Authorizer</a></li>
                <li><a href="External_LSAPI.html">LSAPI App</a></li>
                <li><a href="External_Servlet.html">Servlet Engine</a></li>
                <li><a href="External_WS.html">Web Server</a></li>
                <li><a href="External_PL.html">Piped logger</a></li>
                <li><a href="External_LB.html">Load Balancer</a></li>
                </ul>
	<li><a href="ScriptHandler_Help.html">Script Handler</a></li>
	<li><a href="Rails_Help.html">Rack/Rails Settings</a></li>
	<li><a href="Module_Help.html">Module Configuration</a></li>
	<li><a href="Listeners_General_Help.html">Listener General</a></li>
        <li><a href="Listeners_SSL_Help.html">Listener SSL</a></li>
	<li><a href="Templates_Help.html">Templates</a></li>
	<li><span class="current"><a href="VirtualHosts_Help.html">Virtual Host Basic</a></span></li>
	<li><a href="VHGeneral_Help.html">Virtual Host General</a></li>
	<li><a href="VHSecurity_Help.html">Virtual Host Security</a></li>
        <li><a href="VHSSL_Help.html">Virtual Host SSL</a></li>
	<li><a href="Rewrite_Help.html">Rewrite</a></li>
	<li><a href="Context_Help.html">Context</a></li>
               <ul class="level3">
                <li><a href="Static_Context.html">Static Context</a></li>
                <li><a href="Java_Web_App_Context.html">Java Web App Context</a></li>
                <li><a href="Servlet_Context.html">Servlet Context</a></li>
                <li><a href="FCGI_Context.html">Fast CGI Context</a></li>
                <li><a href="LSAPI_Context.html">LSAPI Context</a></li>
                <li><a href="Proxy_Context.html">Proxy Context</a></li>
                <li><a href="CGI_Context.html">CGI Context</a></li>
                <li><a href="LB_Context.html">Load Balancer Context</a></li>
                <li><a href="Redirect_Context.html">Redirect Context</a></li>
                <li><a href="Rails_Context.html">Rack/Rails Context</a></li>
                <li><a href="Module_Context.html">Module Handler Context</a></li>
                </ul>
	<li><a href="VHWebSocket_Help.html">Web Socket Proxy</a></li>
	</ul>
</li>
<li><a href="webconsole.html">Web Console</a>
        <ul class="level2">
        <li><a href="AdminGeneral_Help.html">Admin Console General</a></li>
        <li><a href="AdminSecurity_Help.html">Admin Console Security</a></li>
	<li><a href="AdminListeners_General_Help.html">Admin Listener General</a></li>
        <li><a href="AdminListeners_SSL_Help.html">Admin Listener SSL</a></li>
        </ul>
</li>
</ul>
</div></div>
<div class="contentwrapper"><div class="nav-bar"><div class="prev">&#171 <a href="Templates_Help.html">Virtual Host Templates</a></div><div class="center"><a href="config.html">Configuration</a></div><div class="next"><a href="VHGeneral_Help.html">Virtual Host General</a> &#187;</div></div>
<h1>Virtual Hosts Basic</h1><p>This page lists all defined virtual hosts. From here you can add/delete a virtual host or make
changes to an existing one. Before you add a virtual host, make sure the virtual host root directory exists.</p>
<h4>Table of Contents</h4><section class="toc"><section class="toc-row"><header>Base</header><p>
<a href="#vhName">Virtual Host Name</a>&nbsp;|&nbsp;<a href="#vhRoot">Virtual Host Root</a>&nbsp;|&nbsp;<a href="#configFile">Config File</a>&nbsp;|&nbsp;</p></section>
<section class="toc-row"><header>Connection</header><p>
<a href="#vhMaxKeepAliveReq">Max Keep-Alive Requests</a>&nbsp;|&nbsp;<a href="#vhSmartKeepAlive">Smart Keep-Alive</a>&nbsp;|&nbsp;</p></section>
<section class="toc-row"><header>Security</header><p>
<a href="#allowSymbolLink">Follow Symbolic Link</a>&nbsp;|&nbsp;<a href="#enableScript">Enable Script</a>&nbsp;|&nbsp;<a href="#restrained">Restrained</a>&nbsp;|&nbsp;<a href="#setUidMode">ExtApp Set UID Mode</a>&nbsp;|&nbsp;<a href="#chrootMode">ExtApp Chroot Mode</a>&nbsp;|&nbsp;<a href="#chrootPath">ExtApp Chroot Path</a>&nbsp;|&nbsp;</p></section>
<section class="toc-row"><header>Virtual Host</header><p>
<a href="#staticReqPerSec">Static Requests/Second</a>&nbsp;|&nbsp;<a href="#dynReqPerSec">Dynamic Requests/Second</a>&nbsp;|&nbsp;<a href="#outBandwidth">Outbound Bandwidth (bytes/sec)</a>&nbsp;|&nbsp;<a href="#inBandwidth">Inbound Bandwidth (bytes/sec)</a>&nbsp;|&nbsp;</p></section>
</section>
<section><div class="helpitem"><a name="vhName"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Virtual Host Name<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>A unique name for a virtual host. It is recommended to use the virtual host's domain name as the Virtual Host Name.  Virtual Host Name can be referred to using the variable $VH_NAME.</td></tr> </table> </div>
<div class="helpitem"><a name="vhRoot"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Virtual Host Root<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>Specifies the root directory of the virtual host. Note: This is <b>NOT</b>  the document root. It is recommended to place all files related to the virtual host  (like log files, html files, CGI scripts, etc.) under this directory. Virtual Host Root can be referred to using the variable $VH_ROOT.</td></tr> <tr><td><span class="ht-label">Syntax: </span>An absolute path or a relative path to $SERVER_ROOT.</td></tr> <tr><td><span class="ht-label">Tips: </span>[Performance] Place different virtual hosts on different hard drives.</td></tr> </table> </div>
<div class="helpitem"><a name="configFile"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Config File<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>The configuration filename and directory for this virtual host. The configuration file must be under the $SERVER_ROOT/conf/vhosts/ directory.</td></tr> <tr><td><span class="ht-label">Syntax: </span>Filename which can be an absolute path or a relative path to $SERVER_ROOT.</td></tr> <tr><td><span class="ht-label">Tips: </span>$SERVER_ROOT/conf/vhosts/$VH_NAME/vhconf.conf is recommended</td></tr> </table> </div>
<div class="helpitem"><a name="vhMaxKeepAliveReq"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Max Keep-Alive Requests<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>Specifies the maximum requests that can be served through a keep-alive (persistent)  connection. Connections will be closed once this limit is reached. You can specify a different limit for each virtual hosts. This number cannot exceed the server-level <span class="tagl"><a href="ServTuning_Help.html#maxKeepAliveReq">Max Keep-Alive Requests</a></span> limit.</td></tr> <tr><td><span class="ht-label">Syntax: </span>Integer number</td></tr> <tr><td><span class="ht-label">Tips: </span>[Performance] Set to a reasonably high value. A value of "1" or less will  disable keep-alive connections.</td></tr> <tr><td><span class="ht-label">See Also: </span><span class="tagl"><a href="ServTuning_Help.html#maxKeepAliveReq">Max Keep-Alive Requests</a></span></td></tr> </table> </div>
<div class="helpitem"><a name="vhSmartKeepAlive"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Smart Keep-Alive<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>Specifies whether to turn on Smart Keep-Alive for this virtual host. This option is only effective if  <span class="tagl"><a href="ServTuning_Help.html#smartKeepAlive">Smart Keep-Alive</a></span> is enabled at the server level and <span class="tagl"><a href="#vhMaxKeepAliveReq">Max Keep-Alive Requests</a></span> is greater than 1.</td></tr> <tr><td><span class="ht-label">Syntax: </span>Select from radio box</td></tr> <tr><td><span class="ht-label">Tips: </span>[Performance] Enable this for busy web sites.</td></tr> </table> </div>
<div class="helpitem"><a name="allowSymbolLink"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Follow Symbolic Link<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>Specifies whether to follow symbolic links in this virtual host.  <span class="val">IF OWNER MATCH</span> option will follow a symbolic link only if it has the same ownership.  This setting overrides the default server-level setting.</td></tr> <tr><td><span class="ht-label">Syntax: </span>Select from drop down list</td></tr> <tr><td><span class="ht-label">Tips: </span>[Performance & security] For better security, disable this feature. For better performance, enable it.</td></tr> </table> </div>
<div class="helpitem"><a name="enableScript"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Enable Script<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>Specifies whether scripting (non-static pages) is allowed in this virtual host.  If disabled, CGI, FastCGI, LSAPI, Servlet engines and other scripting languages will not be allowed in this virtual host.  Therefore, if you want to use a script handler, you need to enable it here as well.</td></tr> <tr><td><span class="ht-label">Syntax: </span>Select from radio box</td></tr> </table> </div>
<div class="helpitem"><a name="restrained"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Restrained<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>Specifies whether files beyond this virtual host root($VH_ROOT) can be accessed  though this web site. If set to <span class="val">Yes</span>, only files under $VH_ROOT can be accessed   and access to symbolic links or context pointing to files or directories beyond $VH_ROOT  will be denied. This, however, does not limit the accessibility of CGI scripts. This is useful  in the shared hosting environment. <span class="tagl"><a href="#allowSymbolLink">Follow Symbolic Link</a></span> can be set to <span class="val">Yes</span> to allow  users to use symbolic links under $VH_ROOT, but not anything beyond $VH_ROOT.</td></tr> <tr><td><span class="ht-label">Syntax: </span>Select from radio box</td></tr> <tr><td><span class="ht-label">Tips: </span>[Security] Turn it on in the shared hosting environment.</td></tr> </table> </div>
<div class="helpitem"><a name="setUidMode"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>ExtApp Set UID Mode<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>Specifies how user ID is set for an external application process. Three choices are available:  <ul><li><span class="val">Server UID</span>: Set the user/group ID of external application processes  to the same as the server's user/group ID.</li>     <li><span class="val">CGI File UID</span>: Set the user/group ID of external CGI processes based  	on the user/group ID of the executable. This option only applies to CGI, not FastCGI or LSPHP.</li>     <li><span class="val">Doc Root UID</span>: Set the user/group ID of external application processes based  	on the user/group ID of the document root of the current virtual host.</li> </ul></td></tr> <tr><td><span class="ht-label">Syntax: </span>Select from drop down list</td></tr> <tr><td><span class="ht-label">Tips: </span>[Security] In the shared hosting environment, it is recommended to use the <span class="val">CGI File UID</span> or <span class="val">Doc Root UID</span> modes to prevent files owned by one virtual host from being accessed by the external application scripts of another virtual host.</td></tr> </table> </div>
<div class="helpitem"><a name="chrootMode"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>ExtApp Chroot Mode<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span> Specifies how the root directory is set for an external application process. In order to protect confidential system data files from being accessed by a vulnerable external application script, an alternative root path can be set for the external application process so that files beyond the new root directory become inaccessible. This is referred to as a "chroot jail".<br/><br/> Three choices are available:  <ul><li><span class="val">Same as Server</span>: External application processes will be run in the same jail as the server.</li>     <li><span class="val">Virtual Host Root</span>: Set chroot jail to the root directory of the virtual host. The external application script will only be able to access files inside the virtual host root. </li> 	<li><span class="val">Customized Chroot Path</span>: Specify the chroot path <span class="tagl"><a href="#chrootPath">ExtApp Chroot Path</a></span> below. </li> </ul></td></tr> <tr><td><span class="ht-label">Syntax: </span>Select from drop down list</td></tr> <tr><td><span class="ht-label">Tips: </span>If used properly, chroot will greatly enhance the security of external application scripts, but you must make sure the external application script is functional in the limited chroot jail environment.</td></tr> </table> </div>
<div class="helpitem"><a name="chrootPath"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>ExtApp Chroot Path<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span> Specifies a new root directory for the current host's external application scripts   when <span class="tagl"><a href="#chrootMode">ExtApp Chroot Mode</a></span> is set to <span class="val">Customized Chroot Path</span>.</td></tr> <tr><td><span class="ht-label">Syntax: </span>Absolute path.</td></tr> </table> </div>
<div class="helpitem"><a name="staticReqPerSec"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Static Requests/Second<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>Specifies the maximum number of requests to static content coming from a single IP address that can be processed in a single second regardless of the number of connections established. <br/><br/> When this limit is reached, all future requests are tar-pitted until the next second.  Request limits for dynamically generated content are independent of this limit. Per-client request limits can be set at server- or virtual host-level.  Virtual host-level settings override server-level settings.</td></tr> <tr><td><span class="ht-label">Syntax: </span>Integer number</td></tr> <tr><td><span class="ht-label">Tips: </span>[Security] Trusted IPs or sub-networks are not affected.</td></tr> <tr><td><span class="ht-label">See Also: </span><span class="tagl"><a href="#dynReqPerSec">Dynamic Requests/Second</a></span></td></tr> </table> </div>
<div class="helpitem"><a name="dynReqPerSec"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Dynamic Requests/Second<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>Specifies the maximum number of requests to dynamically generated content  coming from a single IP address that can be processed in each second regardless of the number of connections established.  When this limit is reached, all future requests to dynamic content  are tar-pitted until the next second. <br/><br/> The request limit for static content is independent of this limit. This per client request limit can be set at server or virtual host level.  Virtual host-level settings override server-level settings.</td></tr> <tr><td><span class="ht-label">Syntax: </span>Integer number</td></tr> <tr><td><span class="ht-label">Tips: </span>[Security] Trusted IPs or sub-networks are not restrained by this limit.</td></tr> <tr><td><span class="ht-label">See Also: </span><span class="tagl"><a href="#staticReqPerSec">Static Requests/Second</a></span></td></tr> </table> </div>
<div class="helpitem"><a name="outBandwidth"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Outbound Bandwidth (bytes/sec)<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>The maximum allowed outgoing throughput to a single IP address, regardless of the number of connections established. The real bandwidth may end up being slightly higher than this setting for efficiency reasons.  Bandwidth is allocated in 4KB units. Set to <span class="val">0</span> to disable throttling. Per-client bandwidth limits (bytes/sec) can be set at the server or virtual host level where virtual host level settings override server level settings.</td></tr> <tr><td><span class="ht-label">Syntax: </span>Integer number</td></tr> <tr><td><span class="ht-label">Tips: </span>[Performance] Set the bandwidth in 8KB units for better performance.<br/><br/> [Security] Trusted IPs or sub-networks are not affected.</td></tr> <tr><td><span class="ht-label">See Also: </span><span class="tagl"><a href="#inBandwidth">Inbound Bandwidth (bytes/sec)</a></span></td></tr> </table> </div>
<div class="helpitem"><a name="inBandwidth"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Inbound Bandwidth (bytes/sec)<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="img/top.gif"></a></span></div></td></tr> <tr><td><span class="ht-label">Description: </span>The maximum allowed incoming throughput from a single IP address, regardless of the number of connections established. The real bandwidth may end up being slightly higher than this setting for efficiency reasons.  Bandwidth is allocated in 1KB units. Set to <span class="val">0</span> to disable throttling. Per-client bandwidth limits (bytes/sec) can be set at the server or virtual host level where virtual host level settings override server level settings.</td></tr> <tr><td><span class="ht-label">Syntax: </span>Integer number</td></tr> <tr><td><span class="ht-label">Tips: </span>[Security] Trusted IPs or sub-networks are not affected.</td></tr> <tr><td><span class="ht-label">See Also: </span><span class="tagl"><a href="#outBandwidth">Outbound Bandwidth (bytes/sec)</a></span></td></tr> </table> </div>
</section>
</div><footer class="copyright">Copyright &copy; 2013-2016. <a href="https://www.litespeedtech.com">LiteSpeed Technologies Inc.</a> All rights reserved.</footer>
</div>
</body>
</html>